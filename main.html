<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no" />
    <title>Smart Banking</title>
    <link rel="stylesheet" href="assets/bootstrap/css/bootstrap.min.css" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Abril+Fatface&amp;display=swap" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Aclonica&amp;display=swap" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lora" />
    <link rel="stylesheet" href="assets/css/Article-Clean.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.min.css" />
    <link rel="stylesheet" href="assets/css/Navigation-with-Button.css" />
    <link rel="stylesheet" href="assets/css/styles.css" />
</head>

<body>
    <nav class="navbar navbar-light navbar-expand-lg navigation-clean-button" style="background: black ; color : crimson">
        <div class=" container ">
            <a class="navbar-brand " href="index.html"><img class="img-fluid " src="./assets/images/Asset2@2x.png " width="50px " />
                <h1 style=" color: var(--bs-crimson); font-family: Aclonica, sans-serif; font-weight: bold; ">
                    SMART BANK
                </h1>
            </a><button data-bs-toggle="collapse " class="navbar-toggler " data-bs-target="#navcol-1 ">
          <span class="visually-hidden ">Toggle navigation</span
          ><span class="navbar-toggler-icon "></span>
        </button>
            <div class="collapse navbar-collapse " id="navcol-1 ">
                <ul class="navbar-nav me-auto ">
                    <li class="nav-item ">
                        <a class="nav-link " href="login.html ">
                            <img class="rounded img-fluid mx-6 " src="assets/img/user.png " width="80px " style="color: red " />login
                        </a>
                    </li>
                </ul>
                <span class="navbar-text actions ">
            <a
              class="login "
              href="./infopage.html "
              style="color: var(--bs-red); font-weight: bold; font-size: 26px "
              >About Us</a
            ></span
          >
        </div>
      </div>
    </nav>
<section class="article-clean "style="background: gold ; color : black">
    <form>
    <p class="login">Please login to your account</p>


    <button id="login" class="btn-log btn-primary btn-block fa-lg gradient-custom-2 mb-3" type="button">LOG IN WITH METAMASK </button>
    <div style="margin-top: 20px;" id="join">
        <a id="mainlink" style="display: none;" href="main.html"><button style="padding: 10px;
    background-color: Crimson;
    color: #fff; border: none; outline: none; font-size: larger; font-weight: bold;">Proceed</button></a>
    </div>


</form>

</div>
</div>

</div>
</div>
</div>
</div>
</div>
</section>
<script>
    window.userWalletAddress = null;
    const userWallet = document.getElementById('userWallet');

    const login = document.getElementById('login');

    function toggleButton() {

        if (!window.ethereum) {
            login.textContent = "metamask is not installed"
            login.classList.remove('btn-log');
            login.classList.add('disable')
            return false;
        }

        login.addEventListener('click', loginAccount)
    }

    async function loginAccount() {
        const accounts = await window.ethereum.request({
                method: "eth_requestAccounts"
            })
            .catch((e) => {
                console.log(e.message)
                return
            })
        if (!accounts) {
            return
        }

        window.userWalletAddress = accounts[0]


        document.getElementById('mainlink').style.display = 'inline'
        document.getElementById('join').appendChild(proceed)
        login.disabled = true;
        login.innerText = "logged in"
        login.removeEventListener('click')
        login.addEventListener('click', () => {
            signOut
        })
    }

    function signOut() {
        location.href = main.html;
    }
    window.addEventListener('DOMContentLoaded', (event) => {
        toggleButton();
    });
</script>
</body>

</html>